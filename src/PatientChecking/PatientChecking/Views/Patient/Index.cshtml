@{
    ViewData["Title"] = "Patient";
    ViewData["Page"] = "List Patient";
}
@model PatientChecking.Views.ViewModels.PagedResult<PatientChecking.Views.ViewModels.PatientListViewModel>
@section css {
    <link href="@Url.Content("~/css/PatientList.css")" rel="stylesheet" type="text/css" />
}

<div class="search-container">
    <div class="search-area">
        <input class="form-control"
               type="text"
               placeholder="Search"
               aria-label="Search" />
    </div>
    <div class="sort-area">
        <select id="sort_selection" class="form-select" style="line-height: 1.5">
            @if (ViewData["SortHistory"].ToString() == "0")
            {
                <option value="0" selected>Sort By ID</option>
                <option value="1">Sort By Name</option>
                <option value="2">Sort By DoB</option>

            }
            else if (ViewData["SortHistory"].ToString() == "1")
            {
                <option value="0">Sort By ID</option>
                <option value="1" selected>Sort By Name</option>
                <option value="2">Sort By DoB</option>
            }
            else
            {
                <option value="0">Sort By ID</option>
                <option value="1">Sort By Name</option>
                <option value="2" selected>Sort By DoB</option>
            }
        </select>
    </div>
</div>
<div class="list-patient-container">
    <div class="grid wide">
        @foreach (var item in Model.Items)
        {
            <div class="row">
                <div class="col l-4">
                    <div class="item patient-item1">
                        <div class="patient-img-box">
                            <img src="~/Image/no-avatar.jpg" alt="Avatar" style="height: 135px" />
                        </div>
                        <div class="patient-name">
                            <p style="font-weight: 600; font-size: 18px">@Html.DisplayFor(modelItem => item.FullName)</p>
                            <p>@Html.DisplayFor(modelItem => item.PatientIdentifier)</p>
                        </div>
                    </div>
                </div>
                <div class="col l-4">
                    <div class="item patient-item2">
                        <div>
                            <p style="font-weight: 700">DoB</p>
                            <p>@Html.DisplayFor(modelItem => item.DoB)</p>
                        </div>
                        <div>
                            <p style="font-weight: 700">Gender</p>
                            <p>@Html.DisplayFor(modelItem => item.Gender)</p>
                        </div>
                    </div>
                </div>
                <div class="col l-4">
                    <div class="item patient-item3">
                        <div>
                            <div class="contact-icon">
                                <i class="fas fa-phone" style="font-size: 16px"></i>
                            </div>
                            <p class="contact-info">@Html.DisplayFor(modelItem => item.PhoneNumber)</p>
                        </div>
                        <div>
                            <div class="contact-icon">
                                <i class="fas fa-envelope" style="font-size: 16px"></i>
                            </div>
                            <p class="contact-info">@Html.DisplayFor(modelItem => item.Email)</p>
                        </div>
                        <div>
                            <div class="contact-icon">
                                <i class="fas fa-map-marker-alt" style="font-size: 16px"></i>
                            </div>
                            <p class="contact-info">@Html.DisplayFor(modelItem => item.Address)</p>
                        </div>
                    </div>
                </div>
            </div>
        }
    </div>
</div>
<div class="pagination-container">
    <ul class="pagination">
        <li class="page-item">
            <a class="page-link" href="#" aria-label="Previous">
                <span aria-hidden="true">&laquo;</span>
                <span class="sr-only">Previous</span>
            </a>
        </li>
        <li class="page-item"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item">
            <a class="page-link" href="#" aria-label="Next">
                <span aria-hidden="true">&raquo;</span>
                <span class="sr-only">Next</span>
            </a>
        </li>
    </ul>
</div>
<script>
    $('#sort_selection').on('change', function (e) {
        var valueSelected = this.value;
        window.location = '@Url.Action("Sort", "Patient")' + '?option=' + encodeURIComponent(valueSelected);
    });
</script>
